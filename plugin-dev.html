<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>插件开发 - AI Prompt Studio</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-brain"></i>
                <span>AI Prompt Studio</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">首页</a></li>
                <li><a href="index.html#features" class="nav-link">功能特性</a></li>
                <li><a href="index.html#architecture" class="nav-link">技术架构</a></li>
                <li><a href="index.html#download" class="nav-link">下载</a></li>
                <li><a href="index.html#docs" class="nav-link">文档</a></li>
                <li><a href="index.html#contact" class="nav-link">联系我们</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- 主内容 -->
    <main class="docs-page">
        <div class="container">
            <div class="docs-header">
                <h1>插件开发</h1>
                <p>插件系统开发指南和示例</p>
            </div>

            <div class="docs-content">
                <div class="docs-sidebar">
                    <ul class="docs-nav">
                        <li><a href="#overview" class="active">插件概述</a></li>
                        <li><a href="#structure">插件结构</a></li>
                        <li><a href="#development">开发指南</a></li>
                        <li><a href="#examples">示例插件</a></li>
                        <li><a href="#publishing">发布插件</a></li>
                    </ul>
                </div>

                <div class="docs-main">
                    <section id="overview">
                        <h2>插件概述</h2>
                        <p>AI Prompt Studio 提供强大的插件系统，允许开发者扩展应用功能。</p>
                        
                        <h3>插件特性</h3>
                        <ul>
                            <li>基于 Python 的插件架构</li>
                            <li>热插拔支持，无需重启应用</li>
                            <li>丰富的 API 接口</li>
                            <li>UI 扩展能力</li>
                            <li>事件驱动机制</li>
                        </ul>

                        <h3>插件类型</h3>
                        <ul>
                            <li><strong>功能插件</strong>：扩展核心功能</li>
                            <li><strong>UI插件</strong>：添加新的界面元素</li>
                            <li><strong>导入导出插件</strong>：支持新的文件格式</li>
                            <li><strong>集成插件</strong>：与第三方服务集成</li>
                        </ul>
                    </section>

                    <section id="structure">
                        <h2>插件结构</h2>
                        <p>标准的插件目录结构如下：</p>
                        
                        <pre><code>my_plugin/
├── __init__.py
├── plugin.py          # 主插件文件
├── manifest.json      # 插件清单
├── ui/                # UI 文件
│   ├── main.ui
│   └── styles.qss
├── resources/         # 资源文件
│   ├── icons/
│   └── images/
└── README.md         # 插件说明</code></pre>

                        <h3>插件清单 (manifest.json)</h3>
                        <pre><code>{
  "name": "My Plugin",
  "version": "1.0.0",
  "description": "插件描述",
  "author": "作者名称",
  "email": "author@example.com",
  "homepage": "https://example.com",
  "license": "MIT",
  "main": "plugin.py",
  "dependencies": [],
  "permissions": ["read", "write"],
  "min_app_version": "1.0.0"
}</code></pre>
                    </section>

                    <section id="development">
                        <h2>开发指南</h2>
                        <p>插件开发的基本步骤和最佳实践。</p>
                        
                        <h3>基础插件类</h3>
                        <pre><code>from aipromptstudio.plugin import BasePlugin

class MyPlugin(BasePlugin):
    def __init__(self):
        super().__init__()
        self.name = "My Plugin"
        self.version = "1.0.0"
    
    def activate(self):
        """插件激活时调用"""
        print("插件已激活")
    
    def deactivate(self):
        """插件停用时调用"""
        print("插件已停用")
    
    def on_prompt_created(self, prompt):
        """提示词创建事件"""
        pass
    
    def on_prompt_updated(self, prompt):
        """提示词更新事件"""
        pass</code></pre>

                        <h3>API 接口</h3>
                        <p>插件可以使用以下 API：</p>
                        <ul>
                            <li><code>self.app</code> - 应用实例</li>
                            <li><code>self.db</code> - 数据库接口</li>
                            <li><code>self.ui</code> - UI 管理器</li>
                            <li><code>self.config</code> - 配置管理</li>
                            <li><code>self.logger</code> - 日志记录</li>
                        </ul>
                    </section>

                    <section id="examples">
                        <h2>示例插件</h2>
                        <p>一些常见的插件开发示例。</p>
                        
                        <h3>导出插件示例</h3>
                        <pre><code>class ExportPlugin(BasePlugin):
    def __init__(self):
        super().__init__()
        self.name = "Export Plugin"
    
    def activate(self):
        # 添加菜单项
        self.ui.add_menu_item(
            "文件", "导出为 PDF", 
            self.export_to_pdf
        )
    
    def export_to_pdf(self):
        """导出为 PDF 文件"""
        prompts = self.db.get_all_prompts()
        # PDF 生成逻辑
        pass</code></pre>

                        <h3>AI 集成插件示例</h3>
                        <pre><code>class AIIntegrationPlugin(BasePlugin):
    def __init__(self):
        super().__init__()
        self.name = "AI Integration"
    
    def activate(self):
        # 添加工具栏按钮
        self.ui.add_toolbar_button(
            "AI 优化", self.optimize_prompt
        )
    
    def optimize_prompt(self):
        """使用 AI 优化提示词"""
        current_prompt = self.ui.get_current_prompt()
        # AI API 调用逻辑
        optimized = self.call_ai_api(current_prompt)
        self.ui.set_current_prompt(optimized)</code></pre>
                    </section>

                    <section id="publishing">
                        <h2>发布插件</h2>
                        <p>如何打包和发布您的插件。</p>
                        
                        <h3>打包插件</h3>
                        <ol>
                            <li>确保所有文件都在插件目录中</li>
                            <li>检查 manifest.json 配置</li>
                            <li>测试插件功能</li>
                            <li>创建 ZIP 压缩包</li>
                        </ol>

                        <h3>发布渠道</h3>
                        <ul>
                            <li><strong>官方插件商店</strong>：提交到官方审核</li>
                            <li><strong>GitHub</strong>：开源发布</li>
                            <li><strong>个人网站</strong>：自主发布</li>
                        </ul>

                        <h3>最佳实践</h3>
                        <ul>
                            <li>编写详细的文档</li>
                            <li>提供使用示例</li>
                            <li>遵循编码规范</li>
                            <li>进行充分测试</li>
                            <li>及时更新维护</li>
                        </ul>
                    </section>

                    <section id="resources">
                        <h2>开发资源</h2>
                        <p>插件开发相关的资源和工具。</p>
                        
                        <h3>开发工具</h3>
                        <ul>
                            <li>插件开发模板</li>
                            <li>调试工具</li>
                            <li>测试框架</li>
                            <li>文档生成器</li>
                        </ul>

                        <h3>社区资源</h3>
                        <ul>
                            <li>开发者论坛</li>
                            <li>示例代码库</li>
                            <li>技术博客</li>
                            <li>视频教程</li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-brain"></i>
                        <span>AI Prompt Studio</span>
                    </div>
                    <p class="footer-description">
                        专业的AI提示词管理工具，让您的AI创作更加高效。
                    </p>
                </div>
                <div class="footer-section">
                    <h3>文档</h3>
                    <ul class="footer-links">
                        <li><a href="quick-start.html">快速开始</a></li>
                        <li><a href="user-manual.html">用户手册</a></li>
                        <li><a href="api-docs.html">API 文档</a></li>
                        <li><a href="plugin-dev.html">插件开发</a></li>
                        <li><a href="faq.html">常见问题</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-copyright">
                    <p>&copy; 2024 AI Prompt Studio. 版权归摆渡人吾师带领的开发团队所有。</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
